{"version":3,"sources":["components/Dashboard/Dashboard.module.css","components/Controls/Controls.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App.js","index.js","components/Balance/Balance.module.css","components/TransactionHistory/TransactionsHistory.module.css"],"names":["module","exports","Controls","onDeposit","onWithdraw","className","styles","controls","input","type","name","button","onClick","Balance","balance","income","expenses","sections","TransactionsHistory","transactions","table","head","title","transactions_body","map","item","key","id","Number","amount","date","year","Math","floor","random","month","day","Date","toLocaleString","Dashboard","state","handleChangeDeposit","e","target","parentElement","firstElementChild","value","setState","newOperation","uuidv1","toast","info","handleChangeWithdrawl","error","warn","this","deposit","reduce","acc","withdrawal","dashboard","TransactionHistory","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.26ecddfd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__17ZLI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3IkFg\",\"input\":\"Controls_input__27qFk\",\"button\":\"Controls_button__Mh22O\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Controls.module.css';\r\n\r\nconst Controls = ({onDeposit, onWithdraw}) => {\r\n  return (\r\n    <section className={styles.controls}>\r\n      <input className={styles.input} type=\"number\" name=\"amount\" />\r\n      <button className={styles.button} type=\"button\" onClick={onDeposit}>\r\n        Deposit\r\n      </button>\r\n      <button className={styles.button} type=\"button\" onClick={onWithdraw}>\r\n        Withdraw\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nControls.propTypes = {\r\n  onDeposit: PropTypes.func.isRequired,\r\n  onWithdraw: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Controls;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Balance.module.css';\r\n\r\nconst Balance = ({balance, income, expenses}) => {\r\n  return (\r\n    <section className={styles.sections}>\r\n        <span className={styles.income}>⬆{income}</span>\r\n        <span className={styles.expenses}>⬇{expenses}</span>\r\n      <span className={styles.balance}>Balance: {balance}</span>\r\n    </section>\r\n  );\r\n};\r\n\r\nBalance.propTypes = {\r\n  income: PropTypes.number.isRequired,\r\n  expenses: PropTypes.number.isRequired,\r\n  balance: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Balance;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './TransactionsHistory.module.css';\r\n\r\nconst TransactionsHistory = ({ transactions }) => {\r\n  return (\r\n    <table className={styles.table}>\r\n      <thead className={styles.head}>\r\n        <tr className={styles.title}>\r\n          <th>Transaction</th>\r\n          <th>Amount</th>\r\n          <th>Date</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody className={styles.transactions_body}>\r\n      {transactions\r\n            .map(item => (\r\n              <tr key={item.id}>\r\n                <td>{item.type}</td>\r\n                <td>{Number(item.amount)}$</td>\r\n                <td>{item.date}</td>\r\n              </tr>\r\n            ))\r\n          }\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nTransactionsHistory.propTypes = {\r\n  transactions: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    type: PropTypes.string.isRequired,\r\n    amount: PropTypes.number.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\n\r\nexport default TransactionsHistory;\r\n","import React, { Component } from 'react';\r\nimport Controls from '../Controls/Controls';\r\nimport Balance from '../Balance/Balance';\r\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './Dashboard.module.css';\r\nimport uuidv1 from 'uuid/v1';\r\n\r\nconst date = () => {\r\n  const year = Math.floor(Math.random() * (2019 - 2011) + 2011);\r\n  const month = Math.floor(Math.random() * 12 + 1);\r\n  const day = Math.floor(Math.random() * 30 + 1);\r\n  const newDate = new Date(year, month, day).toLocaleString('en-US');\r\n  return newDate;\r\n};\r\n\r\nexport default class Dashboard extends Component {\r\n  state = {\r\n    transactions: [],\r\n    balance: 0,\r\n  };\r\n\r\n  handleChangeDeposit = e => {\r\n    const amount = Number(e.target.parentElement.firstElementChild.value);\r\n      if (amount === '' || amount > 0) {\r\n        this.setState(({ transactions, balance }) => {\r\n          const newOperation = {\r\n            type: 'deposit',\r\n            id: uuidv1(),\r\n            amount: amount,\r\n            date: date(),\r\n          };\r\n          return {\r\n            transactions: [...transactions, newOperation],\r\n            balance: balance + amount,\r\n          };\r\n        });\r\n      } else {\r\n        toast.info('Введите сумму для проведения операции!');\r\n      }\r\n    }\r\n\r\n  handleChangeWithdrawl = e => {\r\n    const amount = Number(e.target.parentElement.firstElementChild.value);\r\n\r\n      if (amount <= 0) {\r\n          toast.error('Некорректно введена сумма! Невозможно провести операцию!');\r\n        } else if (amount <= this.state.balance ) {\r\n            const newOperation = {\r\n                type: 'withdrawal',\r\n                id: uuidv1(),\r\n                amount: amount,\r\n                date: date(),\r\n        };\r\n        this.setState(({ transactions, balance }) => {\r\n          return {\r\n              transactions: [...transactions, newOperation],\r\n              balance: balance - amount,\r\n          };\r\n        });\r\n      } else {\r\n        toast.warn('На счету недостаточно средств для проведения операции!');\r\n      }\r\n    }\r\n\r\n  render() {\r\n    const { transactions, balance } = this.state;\r\n\r\n    const deposit = [...transactions].reduce((acc, item) => {\r\n      if (item.type === 'deposit') {\r\n        return acc + item.amount;\r\n      }\r\n      return acc;\r\n    }, 0);\r\n    const withdrawal = [...transactions].reduce((acc, item) => {\r\n      if (item.type === 'withdrawal') {\r\n        return acc + item.amount;\r\n      }\r\n      return acc;\r\n    }, 0);\r\n\r\n    return (\r\n      <div className={styles.dashboard}>\r\n        <Controls\r\n          onDeposit={this.handleChangeDeposit}\r\n          onWithdraw={this.handleChangeWithdrawl}\r\n        />\r\n        <Balance balance={balance} income={deposit} expenses={withdrawal}/>\r\n        <TransactionHistory transactions={transactions} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n  }\r\n\r\n","import React from 'react';\r\nimport Dashboard from '../components/Dashboard/Dashboard';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Dashboard />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sections\":\"Balance_sections__2MF7P\",\"income\":\"Balance_income__3hYhd\",\"expenses\":\"Balance_expenses__3J_AE\",\"balance\":\"Balance_balance__33TK4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TransactionsHistory_table__3Y5d_\",\"head\":\"TransactionsHistory_head__2W-fd\",\"title\":\"TransactionsHistory_title__tgHWx\",\"transactions_body\":\"TransactionsHistory_transactions_body__22rx7\"};"],"sourceRoot":""}